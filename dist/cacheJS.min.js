/*! cacheJS 09-01-2015 */
!function(a){"use strict";var b=function(){var a={prefix:"_cache",ttl:604800,provider:"localStorage"},b={getProvider:function(a){switch(a){case"localStorage":return c}},generateKey:function(b){var c=a.prefix+"_",d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e);d.sort();for(var f=0;f<d.length;f++)c+=d[f]+"_"+b[d[f]],f!==d.length-1&&(c+="__");return c},getCurrentTime:function(){var a=(new Date).getTime();return Math.floor(a/1e3)}},c={get:function(a){var c=b.generateKey(a),d=localStorage.getItem(c);return null!==d?(d=JSON.parse(d),b.getCurrentTime()-d.createdAt>=d.ttl?(localStorage.removeItem(c),null):d.data):null},set:function(c,d,e,f){e=e||a.ttl;var g=b.generateKey(c);localStorage.setItem(g,JSON.stringify({data:d,ttl:e,createdAt:b.getCurrentTime()}));for(var h in f)if(f.hasOwnProperty(h)){var i=this.getContextKey(h,f[h]),j=localStorage.getItem(i);if(null!==j){j=JSON.parse(j);for(var k=!1,l=0;l<j.length;l++)if(j[l]==g){k=!0;break}k||j.push(g)}else j=[g];localStorage.setItem(i,JSON.stringify(j))}},getContextKey:function(b,c){return a.prefix+"_context_"+b+"_"+c},removeByKey:function(a){var c=localStorage.getItem(b.generateKey(a));null!==c&&localStorage.removeItem(b.generateKey(a))},removeByContext:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=this.getContextKey(b,a[b]),d=localStorage.getItem(c);if(null===d)return;for(var e=JSON.parse(d),f=0;f<e.length;f++)localStorage.removeItem(e[f]);localStorage.removeItem(c)}}};return{get:function(c){return b.getProvider(a.provider).get(c)},set:function(c,d,e,f){return b.getProvider(a.provider).set(c,d,e,f),this},setPrefix:function(b){return a.prefix=b,this},getPrefix:function(){return a.prefix},removeByKey:function(c){return b.getProvider(a.provider).removeByKey(c),this},removeByContext:function(c){return b.getProvider(a.provider).removeByContext(c),this}}};b.VERSION="1.0.0",a.cacheJS=new b}(this);