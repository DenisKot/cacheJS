/*! cacheJS 11-01-2015 */
!function(a){"use strict";var b=function(){var a={prefix:"_cache",ttl:604800,provider:"localStorage"},b={getProvider:function(a){switch(a){case"localStorage":return new c(this);case"array":return new d(this)}},getCurrentTime:function(){var a=(new Date).getTime();return Math.floor(a/1e3)},getDefault:function(){return a}};return{get:function(c){return b.getProvider(a.provider).get(c)},set:function(c,d,e,f){return b.getProvider(a.provider).set(c,d,e,f),this},setPrefix:function(b){return a.prefix=b,this},getPrefix:function(){return a.prefix},removeByKey:function(c){return b.getProvider(a.provider).removeByKey(c),this},removeByContext:function(c){return b.getProvider(a.provider).removeByContext(c),this}}},c=function(a){return{get:function(b){var c=this.generateKey(b),d=localStorage.getItem(c);return null!==d?(d=JSON.parse(d),a.getCurrentTime()-d.createdAt>=d.ttl?(localStorage.removeItem(c),null):d.data):null},set:function(b,c,d,e){d=d||a.getDefault().ttl;var f=this.generateKey(b);localStorage.setItem(f,JSON.stringify({data:c,ttl:d,createdAt:a.getCurrentTime()}));for(var g in e)if(e.hasOwnProperty(g)){var h=this.getContextKey(g,e[g]),i=localStorage.getItem(h);if(null!==i){i=JSON.parse(i);for(var j=!1,k=0;k<i.length;k++)if(i[k]==f){j=!0;break}j||i.push(f)}else i=[f];localStorage.setItem(h,JSON.stringify(i))}},removeByKey:function(a){var b=localStorage.getItem(this.generateKey(a));null!==b&&localStorage.removeItem(this.generateKey(a))},removeByContext:function(a){for(var b in a)if(a.hasOwnProperty(b)){var c=this.getContextKey(b,a[b]),d=localStorage.getItem(c);if(null===d)return;for(var e=JSON.parse(d),f=0;f<e.length;f++)localStorage.removeItem(e[f]);localStorage.removeItem(c)}},getContextKey:function(b,c){return a.getDefault().prefix+"_context_"+b+"_"+c},generateKey:function(b){var c=a.getDefault().prefix+"_",d=[];for(var e in b)b.hasOwnProperty(e)&&d.push(e);d.sort();for(var f=0;f<d.length;f++)c+=d[f]+"_"+b[d[f]],f!==d.length-1&&(c+="__");return c}}},d=function(){};b.VERSION="1.0.0",a.cacheJS=new b}(this);